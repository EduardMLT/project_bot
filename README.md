Для реалізації збереження стану першого повідомлення та оновлення лічильників лише один раз для кожної тривоги (як для консольного виведення, так і для Telegram), наступні зміни:

Зберігаємо час першого повідомлення про тривогу для кожного регіону.
Виводимо інформацію в консоль тільки під час першого повідомлення.
Тримаємо лічильник, щоб відправляти оновлення тільки через вказаний інтервал (наприклад, 5 хвилин).
Для відбою тривоги — теж перевіряємо інтервал і надсилаємо повідомлення тільки один раз.


для /*****************  через вебхуки , вивід регіонID - ДОБРЕ !!! */
код  добре структурований і функціонує для обробки вебхуків тривоги та відправки сповіщень у Telegram. Основні моменти, які можуть вплинути на продуктивність та роботу:

Обробка вебхуків без очікувань:

У цьому коді відповідь надсилається одразу після отримання даних від вебхука, що зменшує затримки та виключає можливі проблеми з довгими обробками.
Парсинг JSON:

Використовується express.json(), що дозволяє коректно отримувати і парсити тіло запиту у форматі JSON.
Налаштування вебхука:

Вебхук налаштовується через API системи тривог при старті сервера, що є важливим для стабільної роботи.